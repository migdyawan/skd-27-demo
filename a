def parse_nominal(text):
    text = text.lower().replace(".", "").replace(",", "")
    
    angka = re.search(r'(\d+)', text)
    if not angka:
        return 0
    
    nilai = int(angka.group(1))

    if "jt" in text:
        nilai *= 1000000
    elif "rb" in text:
        nilai *= 1000

    return nilai




if text == "reset":
    global saldo, history
    saldo = 0
    history = []
    bot.send_message(message.chat.id, 
                     "â™»ï¸ Saldo dan riwayat berhasil direset.")
    return


diatas bagian pengeluaran
if text.startswith("-"):
    nominal = parse_nominal(text)
    saldo -= nominal
    history.append(f"â– {format_rupiah(nominal)} | Penyesuaian")
    bot.send_message(message.chat.id,
                     f"ğŸ’³ Saldo dikurangi IDR {format_rupiah(nominal)}\nSisa dana: {format_rupiah(saldo)}")
    return




if text == "saldo" or text == "/saldo":
    bot.send_message(message.chat.id,
                     f"ğŸ’³ Sisa dana kamu\nRp {format_rupiah(saldo)}")
    return


